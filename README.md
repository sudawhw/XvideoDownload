# X视频下载助手

这是一个Chrome浏览器扩展，用于在X（Twitter）网站上添加媒体下载功能。

## 功能特点

1. 自动识别X网页上的视频和图片元素
2. 在推文底部操作栏中添加下载按钮（在收藏图标旁边）
3. 点击下载按钮可以下载推文中的图片或视频
4. 弹出文件保存窗口确认保存位置
5. 支持高质量图片和视频下载
6. 针对新版Twitter/X界面进行了优化
7. 后台定期扫描，确保新加载的推文也能显示下载按钮

## 性能优化

- 采用了高效的DOM节点扫描策略，减少资源占用
- 使用缓存机制避免重复媒体元素检测
- 实现了滚动和URL变化的节流处理，提高页面响应速度
- 采用MutationObserver替代过时的DOM事件监听
- 优化了选择器组合，减少DOM查询次数
- 推文处理逻辑实现了快速跳过无效推文，提高扫描速度

## 安装步骤

### 方法一：从Chrome商店安装（尚未发布）

1. 访问Chrome商店（链接待定）
2. 点击"添加到Chrome"按钮

### 方法二：开发者模式安装

1. 下载或克隆本仓库到本地
2. 如果需要生成图标，运行以下命令：
   ```
   npm install
   npm run generate-icons
   ```
3. 打开Chrome浏览器，进入扩展管理页面：chrome://extensions/
4. 开启右上角的"开发者模式"
5. 点击"加载已解压的扩展程序"
6. 选择本项目文件夹

## 使用方法

1. 安装扩展后，访问Twitter（X）网站
2. 在任何包含图片或视频的推文底部，将会看到一个下载按钮
3. 点击下载按钮即可下载该推文中的媒体内容
4. 插件会自动跳过通知页面，避免干扰正常浏览

## 常见问题解答

1. **问题**: 下载按钮没有显示
   **解决方案**: 尝试刷新页面，或者检查扩展是否已启用

2. **问题**: 点击下载按钮显示"此推文没有可下载的资源"
   **解决方案**: 该推文可能不包含媒体内容，或者媒体内容使用了特殊格式无法识别

3. **问题**: 插件占用资源过多
   **解决方案**: 在扩展设置中禁用插件，仅在需要下载媒体时启用

## 高级功能

- **高质量媒体**: 默认开启，会尝试下载最高质量的图片和视频
- **后台下载**: 可以让媒体文件直接下载而不弹出保存对话框
- **热键支持**: 实验性功能，支持通过键盘快捷键触发下载

## 注意事项

- 该扩展仅支持X（Twitter）网站
- 如果遇到无法下载的情况，请检查推文是否真的包含媒体内容
- 本扩展仅用于个人用途，请尊重内容创作者的版权

## 隐私说明

本扩展高度重视用户隐私，不会收集任何个人数据，所有操作均在本地执行。详细的隐私政策请查看：[隐私权政策](./privacy-policy.md)

## 许可证

MIT 